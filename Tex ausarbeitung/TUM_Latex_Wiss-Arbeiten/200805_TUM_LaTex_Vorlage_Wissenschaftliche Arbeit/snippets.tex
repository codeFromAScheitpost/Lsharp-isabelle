\snip{transtype}{1}{1}{%
\isakeywordONE{type{\isacharunderscore}{\kern0pt}synonym}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}s{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}in{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ trans\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}s\ {\isasymtimes}\ {\isacharprime}{\kern0pt}in{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}s\ {\isasymtimes}\ {\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%endsnip
\snip{mealytype}{1}{1}{%
\isakeywordONE{type{\isacharunderscore}{\kern0pt}synonym}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}s{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}in{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ mealy\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}s\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}s{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}in{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ trans{\isachardoublequoteclose}%
}%endsnip
\snip{eqmealydef}{1}{1}{%
\isakeywordONE{definition}\isamarkupfalse%
\ eq{\isacharunderscore}{\kern0pt}mealy\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}s{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}in{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ mealy\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}s{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}in{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ mealy\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s{\isadigit{2}}\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeywordTWO{where}\isanewline
{\isachardoublequoteopen}eq{\isacharunderscore}{\kern0pt}mealy\ a\ q\ b\ p\ {\isasymequiv}\ {\isacharparenleft}{\kern0pt}case\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}b{\isacharparenright}{\kern0pt}\ of\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}\ is{\isachardot}{\kern0pt}\ outs{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}mealy\ f\ q\ is\ {\isacharequal}{\kern0pt}\ outs{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}mealy\ g\ p\ is{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%endsnip
\snip{equal}{1}{1}{%
\isakeywordONE{abbreviation}\isamarkupfalse%
\ equal\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}s{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}in{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ mealy\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}s{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}in{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ mealy\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeywordTWO{infixr}{\isachardoublequoteopen}{\isasymapprox}{\isachardoublequoteclose}\ {\isadigit{8}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeywordTWO{where}\isanewline
{\isachardoublequoteopen}a\ {\isasymapprox}\ b\ {\isasymequiv}\ {\isacharparenleft}{\kern0pt}case\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}b{\isacharparenright}{\kern0pt}\ of\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}q{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isacharparenleft}{\kern0pt}p{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ eq{\isacharunderscore}{\kern0pt}mealy\ a\ q{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ b\ p{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%endsnip
\snip{otree}{1}{1}{%
\isakeywordONE{datatype}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}in{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ otree\ {\isacharequal}{\kern0pt}\ Node\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}in\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}in{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ otree\ {\isasymtimes}\ {\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ option{\isachardoublequoteclose}%
}%endsnip
\snip{run}{1}{1}{%
\isakeywordONE{fun}\isamarkupfalse%
\ run\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}in{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ otree\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}in\ \ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}in{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ otree\ {\isasymtimes}\ {\isacharprime}{\kern0pt}out\ list{\isacharparenright}{\kern0pt}\ option{\isachardoublequoteclose}\ \isakeywordTWO{where}\isanewline
{\isachardoublequoteopen}run\ ot\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}ot{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
{\isachardoublequoteopen}run\ {\isacharparenleft}{\kern0pt}Node\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}i\ {\isacharhash}{\kern0pt}\ is{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ i\ of\isanewline
\ \ \ \ Some\ {\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}op{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}case\ {\isacharparenleft}{\kern0pt}run\ n\ is{\isacharparenright}{\kern0pt}\ of\isanewline
\ \ \ \ \ \ Some\ {\isacharparenleft}{\kern0pt}ot{\isacharcomma}{\kern0pt}ops{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ Some\ {\isacharparenleft}{\kern0pt}ot{\isacharcomma}{\kern0pt}op\ {\isacharhash}{\kern0pt}\ ops{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ \ \ None\ {\isasymRightarrow}\ None{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ None\ {\isasymRightarrow}\ None{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%endsnip
\snip{funcsim}{1}{1}{%
\isakeywordONE{definition}\isamarkupfalse%
\ func{\isacharunderscore}{\kern0pt}sim\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}s{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}in{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ mealy\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}in{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ otree\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}in\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeywordTWO{where}\isanewline
{\isachardoublequoteopen}func{\isacharunderscore}{\kern0pt}sim\ m\ T\ f\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ m\ of\isanewline
\ \ \ \ \ \ run{\isacharunderscore}{\kern0pt}mealy\ t\ {\isacharparenleft}{\kern0pt}f\ acc{\isacharparenright}{\kern0pt}\ is\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isacharparenleft}{\kern0pt}acc\ {\isacharat}{\kern0pt}\ is{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isacharparenleft}{\kern0pt}drop\ {\isacharparenleft}{\kern0pt}length\ acc{\isacharparenright}{\kern0pt}\ ops{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%endsnip
\snip{apart}{1}{1}{%
\isakeywordONE{fun}\isamarkupfalse%
\ apart\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}in{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ otree\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}in\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}in\ list\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeywordTWO{where}\isanewline
{\isachardoublequoteopen}apart\ q{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ t{\isadigit{1}}\ t{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ i\ x\ y{\isachardot}{\kern0pt}\ outs{\isacharunderscore}{\kern0pt}run\ q{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ {\isacharparenleft}{\kern0pt}t{\isadigit{1}}\ {\isacharat}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ x\ {\isasymand}\isanewline
\ \ \ \ outs{\isacharunderscore}{\kern0pt}run\ q{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ {\isacharparenleft}{\kern0pt}t{\isadigit{2}}\ {\isacharat}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ y\ {\isasymand}\isanewline
\ \ \ \ drop\ {\isacharparenleft}{\kern0pt}length\ t{\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ {\isasymnoteq}\ drop\ {\isacharparenleft}{\kern0pt}length\ {\isacharparenleft}{\kern0pt}t{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%endsnip
\snip{isolated}{1}{1}{%
\isakeywordONE{fun}\isamarkupfalse%
\ isolated\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}in\ {\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ otree\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}in\ list\ set\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}in\ list\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeywordTWO{where}\isanewline
{\isachardoublequoteopen}isolated\ q{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ S\ f\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymforall}\ s\ {\isasymin}\ S{\isachardot}{\kern0pt}\ apart\ q{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ s\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%endsnip
\snip{apartwitness}{1}{1}{%
\isakeywordONE{fun}\isamarkupfalse%
\ apart{\isacharunderscore}{\kern0pt}witness\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}in{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ otree\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}in\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}in\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}in\ \ list\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeywordTWO{where}\isanewline
{\isachardoublequoteopen}apart{\isacharunderscore}{\kern0pt}witness\ q{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ t{\isadigit{1}}\ t{\isadigit{2}}\ is\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ x\ y{\isachardot}{\kern0pt}\ outs{\isacharunderscore}{\kern0pt}run\ q{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ {\isacharparenleft}{\kern0pt}t{\isadigit{1}}\ {\isacharat}{\kern0pt}\ is{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ x\ {\isasymand}\isanewline
\ \ \ \ outs{\isacharunderscore}{\kern0pt}run\ q{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ {\isacharparenleft}{\kern0pt}t{\isadigit{2}}\ {\isacharat}{\kern0pt}\ is{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ y\ {\isasymand}\isanewline
\ \ \ \ drop\ {\isacharparenleft}{\kern0pt}length\ t{\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ {\isasymnoteq}\ drop\ {\isacharparenleft}{\kern0pt}length\ t{\isadigit{2}}{\isacharparenright}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%endsnip
\snip{existshypothesis}{1}{1}{%
\isakeywordONE{lemma}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}hypothesis{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeywordTWO{assumes}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ f\ {\isasymin}\ F{\isachardot}{\kern0pt}\ {\isasymforall}\ s\ {\isasymin}\ S{\isachardot}{\kern0pt}\ apart\ T\ s\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ s\ {\isasymin}\ S{\isachardot}{\kern0pt}\ EX\ i{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}outs{\isacharunderscore}{\kern0pt}run\ T\ {\isacharparenleft}{\kern0pt}s\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}i{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ None{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{shows}\ {\isachardoublequoteopen}{\isasymexists}\ t{\isachardot}{\kern0pt}\ hypothesis\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}\ t{\isachardoublequoteclose}%
}%endsnip
\snip{frontier}{1}{1}{%
\isakeywordONE{fun}\isamarkupfalse%
\ frontier\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}in{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}in\ list\ set{\isachardoublequoteclose}\ \isakeywordTWO{where}\isanewline
{\isachardoublequoteopen}frontier\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}f{\isachardot}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymexists}\ s\ {\isasymin}\ S{\isachardot}{\kern0pt}\ {\isasymexists}\ i{\isachardot}{\kern0pt}\ f\ {\isacharequal}{\kern0pt}\ s\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}i{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ f\ {\isasymnotin}\ S\ {\isasymand}\ outs{\isacharunderscore}{\kern0pt}run\ T\ f\ {\isasymnoteq}\ None{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}%
}%endsnip
\snip{procopquery}{1}{1}{%
\isakeywordONE{fun}\isamarkupfalse%
\ process{\isacharunderscore}{\kern0pt}output{\isacharunderscore}{\kern0pt}query\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}in{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ otree\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}in\ \ list\ {\isasymRightarrow}\ \isanewline
{\isacharprime}{\kern0pt}out\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}in{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ otree{\isachardoublequoteclose}\ \isakeywordTWO{where}\isanewline
{\isachardoublequoteopen}process{\isacharunderscore}{\kern0pt}output{\isacharunderscore}{\kern0pt}query\ q\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ q{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
{\isachardoublequoteopen}process{\isacharunderscore}{\kern0pt}output{\isacharunderscore}{\kern0pt}query\ {\isacharparenleft}{\kern0pt}Node\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}i\ {\isacharhash}{\kern0pt}\ is{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}op\ {\isacharhash}{\kern0pt}\ ops{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ i\ of\isanewline
\ \ \ \ None\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}Node\ {\isacharparenleft}{\kern0pt}{\isasymlambda}\ j{\isachardot}{\kern0pt}\ if\ j\ {\isacharequal}{\kern0pt}\ i\isanewline
\ \ \ \ \ \ then\ Some\ {\isacharparenleft}{\kern0pt}process{\isacharunderscore}{\kern0pt}output{\isacharunderscore}{\kern0pt}query\ {\isacharparenleft}{\kern0pt}Node\ {\isacharparenleft}{\kern0pt}{\isasymlambda}\ k{\isachardot}{\kern0pt}\ None{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ is\ ops{\isacharcomma}{\kern0pt}op{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ else\ t\ j{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ Some\ {\isacharparenleft}{\kern0pt}tree{\isacharcomma}{\kern0pt}out{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}Node\ {\isacharparenleft}{\kern0pt}{\isasymlambda}\ j{\isachardot}{\kern0pt}\ if\ j\ {\isacharequal}{\kern0pt}\ i\isanewline
\ \ \ \ \ \ then\ Some\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}process{\isacharunderscore}{\kern0pt}output{\isacharunderscore}{\kern0pt}query\ tree\ is\ ops{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}out{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ else\ t\ j{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%endsnip
\snip{runmealyfun}{1}{2}{%
%
\begin{isamarkuptext}%
\isa{\isafree{M}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}\isafree{q{\isacharunderscore}{\kern0pt}{\isadigit{0}}}{\isacharcomma}{\kern0pt}\ \isafree{t}{\isacharparenright}{\kern0pt}}%
\end{isamarkuptext}\isamarkuptrue%
%
}%endsnip


\snip{hypothesis}{1}{2}{%
\isakeywordONE{fun}\isamarkupfalse%
\ hypothesis\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}in\ {\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}in\ list{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}in{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ trans\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeywordTWO{where}\isanewline
{\isachardoublequoteopen}hypothesis\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}\ t\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}\ s\ {\isasymin}\ S{\isachardot}{\kern0pt}\ {\isasymforall}\ i{\isachardot}{\kern0pt}\ {\isasymexists}\ tran\ op\ n\ out{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}run\ T\ s\ {\isacharequal}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}Node\ tran{\isacharcomma}{\kern0pt}op{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}tran\ i\ {\isacharequal}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}out{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}if\ {\isacharparenleft}{\kern0pt}s\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}i{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ S\isanewline
\ \ \ \ \ \ \ \ then\ t\ {\isacharparenleft}{\kern0pt}s{\isacharcomma}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}s\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}i{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}out{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ else\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ y\ {\isasymin}\ S{\isachardot}{\kern0pt}\ {\isasymnot}\ apart\ T\ y\ {\isacharparenleft}{\kern0pt}s\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}i{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ t\ {\isacharparenleft}{\kern0pt}s{\isacharcomma}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}out{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%endsnip
\snip{localedef}{1}{2}{%
\isakeywordONE{locale}\isamarkupfalse%
\ Mealy\ {\isacharequal}{\kern0pt}\isanewline
\ \ \isakeywordTWO{fixes}\ M\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}s\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ finite{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}in\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ finite{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ mealy{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ \ \ I\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}in\ set{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ \ \ Q\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}s\ set{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ \ \ difference{\isacharunderscore}{\kern0pt}query\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}s{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}in{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ mealy\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}in\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}in\ list\ {\isasymRightarrow}\ \isanewline 
\ \ \ \ \ {\isacharprime}{\kern0pt}in\ list\ option{\isachardoublequoteclose}\ \isanewline
\ \ \isakeywordTWO{assumes}\isanewline
\ \ univI{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}I\ {\isacharequal}{\kern0pt}\ UNIV{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ univQ{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Q\ {\isacharequal}{\kern0pt}\ UNIV{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ difference{\isacharunderscore}{\kern0pt}query{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}difference{\isacharunderscore}{\kern0pt}query\ {\isacharparenleft}{\kern0pt}q{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}f{\isacharparenright}{\kern0pt}\ s\ fs\ {\isacharequal}{\kern0pt}\ Some\ x{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ \isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}drop\ {\isacharparenleft}{\kern0pt}length\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}outs{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}mealy\ f\ q{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ {\isacharparenleft}{\kern0pt}s\ {\isacharat}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\isanewline
\ \ \ \ \ \ drop\ {\isacharparenleft}{\kern0pt}length\ fs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}outs{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}mealy\ f\ q{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ {\isacharparenleft}{\kern0pt}fs\ {\isacharat}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ difference{\isacharunderscore}{\kern0pt}query{\isacharunderscore}{\kern0pt}def{\isacharunderscore}{\kern0pt}none{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}difference{\isacharunderscore}{\kern0pt}query\ {\isacharparenleft}{\kern0pt}q{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}f{\isacharparenright}{\kern0pt}\ s\ fs\ {\isacharequal}{\kern0pt}\ None{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ \isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymnexists}\ x{\isachardot}{\kern0pt}{\isacharparenleft}{\kern0pt}drop\ {\isacharparenleft}{\kern0pt}length\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}outs{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}mealy\ f\ q{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ {\isacharparenleft}{\kern0pt}s\ {\isacharat}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\isanewline
\ \ \ \ \ \ drop\ {\isacharparenleft}{\kern0pt}length\ fs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}outs{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}mealy\ f\ q{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ {\isacharparenleft}{\kern0pt}fs\ {\isacharat}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isakeywordTWO{begin}%
}%endsnip
\snip{runmealy}{1}{2}{%
\isakeywordONE{fun}\isamarkupfalse%
\ run{\isacharunderscore}{\kern0pt}mealy\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}s{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}in{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ trans\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}in\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}s\ {\isasymtimes}\ {\isacharprime}{\kern0pt}out\ list{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{where}\isanewline
{\isachardoublequoteopen}run{\isacharunderscore}{\kern0pt}mealy\ f\ q\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
{\isachardoublequoteopen}run{\isacharunderscore}{\kern0pt}mealy\ f\ q\ {\isacharparenleft}{\kern0pt}w\ {\isacharhash}{\kern0pt}\ ws{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}let\ {\isacharparenleft}{\kern0pt}st{\isacharcomma}{\kern0pt}op{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isacharparenleft}{\kern0pt}q{\isacharcomma}{\kern0pt}w{\isacharparenright}{\kern0pt}\ in\ \isanewline
\ \ {\isacharparenleft}{\kern0pt}let\ {\isacharparenleft}{\kern0pt}q{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ run{\isacharunderscore}{\kern0pt}mealy\ f\ st\ ws\ in\ {\isacharparenleft}{\kern0pt}q{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}op\ {\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%endsnip

\snip{invar}{1}{1}{%
\isakeywordONE{definition}\isamarkupfalse%
\ invar\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}in{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}out{\isacharparenright}{\kern0pt}\ state\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeywordTWO{where}\isanewline
{\isachardoublequoteopen}invar\ st\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ st\ of\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}\ e{\isachardot}{\kern0pt}\ {\isasymnot}\ {\isacharparenleft}{\kern0pt}e\ {\isasymin}\ S\ {\isasymand}\ e\ {\isasymin}\ F{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}\ e\ {\isasymin}\ S{\isachardot}{\kern0pt}\ outs{\isacharunderscore}{\kern0pt}run\ T\ e\ {\isasymnoteq}\ None{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ finite\ S\ {\isasymand}\ finite\ F\ {\isasymand}\isanewline
\ \ \ \ sapart\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}\ i{\isachardot}{\kern0pt}\ outs{\isacharunderscore}{\kern0pt}run\ T\ i\ {\isasymnoteq}\ None\ {\isasymlongrightarrow}\ outs{\isacharunderscore}{\kern0pt}run\ T\ i\ {\isacharequal}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}output{\isacharunderscore}{\kern0pt}query\ M\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}F\ {\isacharequal}{\kern0pt}\ frontier\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymin}\ S\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}\ s\ {\isasymin}\ S{\isachardot}{\kern0pt}\ s\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymor}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ s{\isadigit{2}}\ {\isasymin}\ S{\isachardot}{\kern0pt}\ {\isasymexists}\ i{\isachardot}{\kern0pt}\ s{\isadigit{2}}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}i{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%endsnip


\snip{ruleone}{1}{1}{%
rule{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlbrakk}f\ {\isasymin}\ F{\isacharsemicolon}{\kern0pt}\ {\isasymforall}\ s\ {\isasymin}\ S{\isachardot}{\kern0pt}\ apart\ T\ s\ f{\isasymrbrakk}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ algo{\isacharunderscore}{\kern0pt}step\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}f{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}frontier\ {\isacharparenleft}{\kern0pt}S\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}f{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\isanewline
}%endsnip

\snip{ruletwo}{1}{1}{%
rule{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlbrakk}s\ {\isasymin}\ S{\isacharsemicolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}outs{\isacharunderscore}{\kern0pt}run\ T\ {\isacharparenleft}{\kern0pt}s\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}i{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ None{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ output{\isacharunderscore}{\kern0pt}query\ M\ {\isacharparenleft}{\kern0pt}s\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}i{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ out{\isasymrbrakk}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ algo{\isacharunderscore}{\kern0pt}step\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}s\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}i{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}process{\isacharunderscore}{\kern0pt}output{\isacharunderscore}{\kern0pt}query\ T\ {\isacharparenleft}{\kern0pt}s\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}i{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ out{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}
}%endsnip
\snip{rulethree}{1}{1}{%
rule{\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlbrakk}s{\isadigit{1}}\ {\isasymin}\ S{\isacharsemicolon}{\kern0pt}\ s{\isadigit{2}}\ {\isasymin}\ S{\isacharsemicolon}{\kern0pt}\ s{\isadigit{1}}\ {\isasymnoteq}\ s{\isadigit{2}}{\isacharsemicolon}{\kern0pt}\ f\ {\isasymin}\ F{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isasymnot}\ apart\ T\ f\ s{\isadigit{1}}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isasymnot}\ apart\ T\ f\ s{\isadigit{2}}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ apart{\isacharunderscore}{\kern0pt}witness\ T\ s{\isadigit{1}}\ s{\isadigit{2}}\ w{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ output{\isacharunderscore}{\kern0pt}query\ M\ {\isacharparenleft}{\kern0pt}f\ {\isacharat}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ out{\isasymrbrakk}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ algo{\isacharunderscore}{\kern0pt}step\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}process{\isacharunderscore}{\kern0pt}output{\isacharunderscore}{\kern0pt}query\ T\ {\isacharparenleft}{\kern0pt}f\ {\isacharat}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ out{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}
}%endsnip
\snip{rulefour}{1}{1}{%
rule{\isadigit{4}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlbrakk}{\isasymforall}\ s{\isadigit{1}}\ {\isasymin}\ S{\isachardot}{\kern0pt}\ {\isasymforall}\ i{\isachardot}{\kern0pt}\ outs{\isacharunderscore}{\kern0pt}run\ T\ {\isacharparenleft}{\kern0pt}s{\isadigit{1}}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}i{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ None{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isasymforall}\ f{\isadigit{1}}\ {\isasymin}\ F{\isachardot}{\kern0pt}\ {\isasymnot}\ {\isacharparenleft}{\kern0pt}isolated\ T\ S\ f{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ fs\ {\isasymin}\ F{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ s\ {\isasymin}\ S{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isasymnot}\ apart\ T\ s\ fs{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ difference{\isacharunderscore}{\kern0pt}query\ M\ s\ fs\ {\isacharequal}{\kern0pt}\ Some\ inp{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ output{\isacharunderscore}{\kern0pt}query\ M\ {\isacharparenleft}{\kern0pt}s\ {\isacharat}{\kern0pt}\ inp{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ outs{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ \ \ output{\isacharunderscore}{\kern0pt}query\ M\ {\isacharparenleft}{\kern0pt}fs\ {\isacharat}{\kern0pt}\ inp{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ outf{\isasymrbrakk}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ algo{\isacharunderscore}{\kern0pt}step\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}process{\isacharunderscore}{\kern0pt}output{\isacharunderscore}{\kern0pt}query\ \isanewline 
\ \ \ \ \ {\isacharparenleft}{\kern0pt}process{\isacharunderscore}{\kern0pt}output{\isacharunderscore}{\kern0pt}query\ T\ {\isacharparenleft}{\kern0pt}s\ {\isacharat}{\kern0pt}\ inp{\isacharparenright}{\kern0pt}\ outs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fs\ {\isacharat}{\kern0pt}\ inp{\isacharparenright}{\kern0pt}\ outf{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%endsnip
\snip{hypo}{1}{2}{%
%
\begin{isamarkuptext}%
\isa{{\isasymlbrakk}\isavar{{\isacharquery}{\kern0pt}invar}\ {\isacharparenleft}{\kern0pt}\isavar{{\isacharquery}{\kern0pt}S}{\isacharcomma}{\kern0pt}\ \isavar{{\isacharquery}{\kern0pt}F}{\isacharcomma}{\kern0pt}\ \isavar{{\isacharquery}{\kern0pt}T}{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\ {\isasymnot}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\isabound{f}{\isasymin}\isavar{{\isacharquery}{\kern0pt}F}{\isachardot}{\kern0pt}\ {\isasymforall}\isabound{s}{\isasymin}\isavar{{\isacharquery}{\kern0pt}S}{\isachardot}{\kern0pt}\ \isaconst{apart}\ \isavar{{\isacharquery}{\kern0pt}T}\ \isabound{s}\ \isabound{f}{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\ {\isasymnot}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\isabound{s}{\isasymin}\isavar{{\isacharquery}{\kern0pt}S}{\isachardot}{\kern0pt}\ {\isasymexists}\isabound{i}{\isachardot}{\kern0pt}\ \isaconst{outs{\isacharunderscore}{\kern0pt}run}\ \isavar{{\isacharquery}{\kern0pt}T}\ {\isacharparenleft}{\kern0pt}\isabound{s}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}\isabound{i}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \isaconst{None}{\isacharparenright}{\kern0pt}{\isasymrbrakk}\ {\isasymLongrightarrow}\ {\isasymexists}\isabound{t}{\isachardot}{\kern0pt}\ \isaconst{hypothesis}\ {\isacharparenleft}{\kern0pt}\isavar{{\isacharquery}{\kern0pt}S}{\isacharcomma}{\kern0pt}\ \isavar{{\isacharquery}{\kern0pt}F}{\isacharcomma}{\kern0pt}\ \isavar{{\isacharquery}{\kern0pt}T}{\isacharparenright}{\kern0pt}\ \isabound{t}}%
\end{isamarkuptext}\isamarkuptrue%
%
}%endsnip
\snip{opqueryretains}{1}{1}{%
\isakeywordONE{lemma}\isamarkupfalse%
\ output{\isacharunderscore}{\kern0pt}query{\isacharunderscore}{\kern0pt}retains{\isacharunderscore}{\kern0pt}some{\isacharunderscore}{\kern0pt}specific{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeywordTWO{assumes}\ {\isachardoublequoteopen}length\ ip\ {\isacharequal}{\kern0pt}\ length\ op{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}outs{\isacharunderscore}{\kern0pt}run\ {\isacharparenleft}{\kern0pt}Node\ r{\isacharparenright}{\kern0pt}\ acc\ {\isacharequal}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}out{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{shows}\ {\isachardoublequoteopen}outs{\isacharunderscore}{\kern0pt}run\ {\isacharparenleft}{\kern0pt}Node\ r{\isacharparenright}{\kern0pt}\ acc\ {\isacharequal}{\kern0pt}\ outs{\isacharunderscore}{\kern0pt}run\ {\isacharparenleft}{\kern0pt}process{\isacharunderscore}{\kern0pt}output{\isacharunderscore}{\kern0pt}query\ {\isacharparenleft}{\kern0pt}Node\ r{\isacharparenright}{\kern0pt}\ ip\ op{\isacharparenright}{\kern0pt}\ acc{\isachardoublequoteclose}%
}%endsnip
\snip{increasesnorm}{1}{1}{%
\isakeywordONE{theorem}\isamarkupfalse%
\ algo{\isacharunderscore}{\kern0pt}step{\isacharunderscore}{\kern0pt}increases{\isacharunderscore}{\kern0pt}norm{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeywordTWO{assumes}\ {\isachardoublequoteopen}algo{\isacharunderscore}{\kern0pt}step\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}F{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}T{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{shows}\ {\isachardoublequoteopen}norm\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ norm\ {\isacharparenleft}{\kern0pt}S{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}F{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}T{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%endsnip
\snip{normbsp}{1}{1}{%
\begin{isamarkuptext}%
for example for \isa{rule{\isadigit{2}}} we prove \isa{\isaconst{norm{\isadigit{1}}}\ {\isacharparenleft}{\kern0pt}\isafree{S}{\isacharcomma}{\kern0pt}\ \isafree{F}{\isacharcomma}{\kern0pt}\ \isafree{T}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \isaconst{norm{\isadigit{1}}}\ {\isacharparenleft}{\kern0pt}\isafree{S{\isacharprime}{\kern0pt}}{\isacharcomma}{\kern0pt}\ \isafree{F{\isacharprime}{\kern0pt}}{\isacharcomma}{\kern0pt}\ \isafree{T{\isacharprime}{\kern0pt}}{\isacharparenright}{\kern0pt}}, 
\isa{\isaconst{norm{\isadigit{2}}}\ {\isacharparenleft}{\kern0pt}\isafree{S}{\isacharcomma}{\kern0pt}\ \isafree{F}{\isacharcomma}{\kern0pt}\ \isafree{T}{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ \isaconst{norm{\isadigit{2}}}\ {\isacharparenleft}{\kern0pt}\isafree{S{\isacharprime}{\kern0pt}}{\isacharcomma}{\kern0pt}\ \isafree{F{\isacharprime}{\kern0pt}}{\isacharcomma}{\kern0pt}\ \isafree{T{\isacharprime}{\kern0pt}}{\isacharparenright}{\kern0pt}} and \isa{\isaconst{norm{\isadigit{3}}}\ {\isacharparenleft}{\kern0pt}\isafree{S}{\isacharcomma}{\kern0pt}\ \isafree{F}{\isacharcomma}{\kern0pt}\ \isafree{T}{\isacharparenright}{\kern0pt}\ {\isasymle}\ \isaconst{norm{\isadigit{3}}}\ {\isacharparenleft}{\kern0pt}\isafree{S{\isacharprime}{\kern0pt}}{\isacharcomma}{\kern0pt}\ \isafree{F{\isacharprime}{\kern0pt}}{\isacharcomma}{\kern0pt}\ \isafree{T{\isacharprime}{\kern0pt}}{\isacharparenright}{\kern0pt}} resulting in 
\isa{\isaconst{norm}\ {\isacharparenleft}{\kern0pt}\isafree{S}{\isacharcomma}{\kern0pt}\ \isafree{F}{\isacharcomma}{\kern0pt}\ \isafree{T}{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ \isaconst{norm}\ {\isacharparenleft}{\kern0pt}\isafree{S{\isacharprime}{\kern0pt}}{\isacharcomma}{\kern0pt}\ \isafree{F{\isacharprime}{\kern0pt}}{\isacharcomma}{\kern0pt}\ \isafree{T{\isacharprime}{\kern0pt}}{\isacharparenright}{\kern0pt}}%
\end{isamarkuptext}\isamarkuptrue%
%
}%endsnip
\snip{oqueryinvaraux}{1}{1}{%
\isakeywordONE{lemma}\isamarkupfalse%
\ output{\isacharunderscore}{\kern0pt}query{\isacharunderscore}{\kern0pt}keeps{\isacharunderscore}{\kern0pt}invar{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeywordTWO{assumes}\ {\isachardoublequoteopen}outs{\isacharunderscore}{\kern0pt}run\ T\ i\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}outs{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}mealy\ t\ q{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ j\ {\isacharequal}{\kern0pt}\ out{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}T{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ process{\isacharunderscore}{\kern0pt}output{\isacharunderscore}{\kern0pt}query\ T\ j\ out{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}\ k\ y{\isachardot}{\kern0pt}\ outs{\isacharunderscore}{\kern0pt}run\ T\ k\ {\isacharequal}{\kern0pt}\ Some\ y\ {\isasymlongrightarrow}\ outs{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}mealy\ t\ q{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ k\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{shows}\ {\isachardoublequoteopen}outs{\isacharunderscore}{\kern0pt}run\ T{\isacharprime}{\kern0pt}\ i\ {\isasymnoteq}\ None\ {\isasymlongrightarrow}\ outs{\isacharunderscore}{\kern0pt}run\ T{\isacharprime}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}outs{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}mealy\ t\ q{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%endsnip
\snip{retaininvar}{1}{1}{%
\isakeywordONE{lemma}\isamarkupfalse%
\ algo{\isacharunderscore}{\kern0pt}step{\isacharunderscore}{\kern0pt}keeps{\isacharunderscore}{\kern0pt}invar{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeywordTWO{assumes}\ {\isachardoublequoteopen}algo{\isacharunderscore}{\kern0pt}step\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}F{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}T{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{shows}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}S{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}F{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}T{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%endsnip
\snip{notnone}{1}{1}{%
\isakeywordONE{lemma}\isamarkupfalse%
\ process{\isacharunderscore}{\kern0pt}op{\isacharunderscore}{\kern0pt}query{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}none{\isacharunderscore}{\kern0pt}output{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeywordTWO{assumes}\ {\isachardoublequoteopen}length\ ip\ {\isacharequal}{\kern0pt}\ length\ op{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{shows}\ {\isachardoublequoteopen}outs{\isacharunderscore}{\kern0pt}run\ {\isacharparenleft}{\kern0pt}process{\isacharunderscore}{\kern0pt}output{\isacharunderscore}{\kern0pt}query\ {\isacharparenleft}{\kern0pt}Node\ t{\isacharparenright}{\kern0pt}\ ip\ op{\isacharparenright}{\kern0pt}\ ip\ {\isasymnoteq}\ None{\isachardoublequoteclose}%
}%endsnip
\snip{maxnorm}{1}{1}{%
\isakeywordONE{abbreviation}\isamarkupfalse%
\ max{\isacharunderscore}{\kern0pt}norm\ \isakeywordTWO{where}\isanewline
{\isachardoublequoteopen}max{\isacharunderscore}{\kern0pt}norm\ S\ {\isasymequiv}\ {\isacharparenleft}{\kern0pt}card\ S\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ S\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ div\ {\isadigit{2}}\ {\isacharplus}{\kern0pt}\ card\ S\ {\isacharasterisk}{\kern0pt}\ card\ I\ {\isacharplus}{\kern0pt}\ card\ S\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ S\ {\isacharasterisk}{\kern0pt}\ card\ I{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%endsnip
\snip{maxnormstate}{1}{1}{%
\isakeywordONE{lemma}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}max{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeywordTWO{assumes}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{shows}\ {\isachardoublequoteopen}norm\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}\ {\isasymle}\ max{\isacharunderscore}{\kern0pt}norm\ S{\isachardoublequoteclose}%
}%endsnip
\snip{maxs}{1}{1}{%
\isakeywordONE{lemma}\isamarkupfalse%
\ max{\isacharunderscore}{\kern0pt}size{\isacharunderscore}{\kern0pt}S{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeywordTWO{assumes}\ {\isachardoublequoteopen}func{\isacharunderscore}{\kern0pt}sim\ M\ T\ f{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}sapart\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}finite\ S{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{shows}\ {\isachardoublequoteopen}card\ S\ {\isasymle}\ card\ Q{\isachardoublequoteclose}%
}%endsnip
\snip{hypofunc}{1}{1}{%
\ \ \ \ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}\ {\isacharparenleft}{\kern0pt}s{\isacharcomma}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ run\ T\ s\ of\isanewline
\ \ \ \ \ \ \ \ None\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}none{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ Some\ {\isacharparenleft}{\kern0pt}Node\ tran{\isacharcomma}{\kern0pt}op{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}case\ tran\ i\ of\isanewline
\ \ \ \ \ \ \ \ \ \ None\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}none{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ Some\ {\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}out{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}f\ {\isacharparenleft}{\kern0pt}s\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}i{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}out{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
}%endsnip
\snip{nostepeq}{1}{1}{%
\isakeywordONE{theorem}\isamarkupfalse%
\ no{\isacharunderscore}{\kern0pt}step{\isacharunderscore}{\kern0pt}mealy{\isacharunderscore}{\kern0pt}equal{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeywordTWO{assumes}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ S{\isacharprime}{\kern0pt}\ F{\isacharprime}{\kern0pt}\ T{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ algo{\isacharunderscore}{\kern0pt}step\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}F{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}T{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}hypothesis\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{shows}\ {\isachardoublequoteopen}M\ {\isasymapprox}\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%endsnip
\snip{corollary}{1}{1}{%
\isakeywordONE{corollary}\isamarkupfalse%
\ no{\isacharunderscore}{\kern0pt}step{\isacharunderscore}{\kern0pt}mealy{\isacharunderscore}{\kern0pt}equal{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeywordTWO{assumes}\ {\isachardoublequoteopen}algo{\isacharunderscore}{\kern0pt}steps\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}Node\ Map{\isachardot}{\kern0pt}empty{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ S{\isacharprime}{\kern0pt}\ F{\isacharprime}{\kern0pt}\ T{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ algo{\isacharunderscore}{\kern0pt}step\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}F{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}T{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}\ t{\isachardot}{\kern0pt}\ hypothesis\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}\ {\isasymand}{\isacharparenleft}{\kern0pt}{\isasymforall}\ t{\isachardot}{\kern0pt}\ hypothesis\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}\ t\ {\isasymlongrightarrow}\ M\ {\isasymapprox}\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
}%endsnip
\snip{outsamenostep}{1}{1}{%
\isakeywordONE{lemma}\isamarkupfalse%
\ hypothesis{\isacharunderscore}{\kern0pt}no{\isacharunderscore}{\kern0pt}step{\isacharunderscore}{\kern0pt}output{\isacharunderscore}{\kern0pt}same{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeywordTWO{assumes}\ {\isachardoublequoteopen}invar\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ S{\isacharprime}{\kern0pt}\ F{\isacharprime}{\kern0pt}\ T{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ algo{\isacharunderscore}{\kern0pt}step\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}F{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}T{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}hypothesis\ {\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}F{\isacharcomma}{\kern0pt}T{\isacharparenright}{\kern0pt}\ h{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}M\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}q{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\kern0pt}apart{\isacharunderscore}{\kern0pt}mealy\ M\ {\isacharparenleft}{\kern0pt}state{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}mealy\ f\ q{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ p{\isacharparenright}{\kern0pt}\ q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeywordTWO{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}p\ {\isasymin}\ S{\isachardoublequoteclose}\isanewline
\ \ \isakeywordTWO{shows}\ {\isachardoublequoteopen}outs{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}mealy\ f\ q\ inp\ {\isacharequal}{\kern0pt}\ outs{\isacharunderscore}{\kern0pt}run{\isacharunderscore}{\kern0pt}mealy\ h\ p\ inp{\isachardoublequoteclose}%
}%endsnip
